var version="0.1";var leadTableModule=angular.module("LEADTABLEMODULE",[],function(a){a.startSymbol("--__");a.endSymbol("__--")});leadTableModule.directive("leadTableInventario",["$rootScope",function(a){function b(e,d,c){}return{templateUrl:function(){var c=document.URL;c=c.split("public");return c[0]+"public/js/component/leadTable/leadTableInventario-"+version+".html"},restrict:"E",replace:true,scope:{data:"=data",dblclick:"="},link:function(e,d,c){e.classLead=classLeadInventario},controller:function(f,e,d,c,g,h){var i=this;this.adjustForMask=function(){console.log(e.parents(".dimensionatore"));console.log(e.parents(".dimensionatore").height());console.log(e.height());e.parents(".dimensionatore").children().each(function(){$(this).height(e.parents(".dimensionatore").height())});e.height(e.parents(".dimensionatore").height())};f.$watch("data",function(){var j=e.parents(".modal");if(j.length){j=j.eq(0);if(j.trigger){j.trigger("adjust")}g(function(){i.adjustForMask()},100)}})}}}]);leadTableModule.directive("leadTableCompact",[function(){function a(d,c,b){}return{templateUrl:function(){var b=document.URL;b=b.split("public");return b[0]+"public/js/component/leadTable/leadTableCompact-"+version+".html"},restrict:"E",scope:{data:"=data"},controller:function(e,d,c,b,f,g){}}}]);leadTableModule.filter("statoLeadInventario",function(a){return function(d,g,b){var f={venditore:"Libera",donotcallbefore:"",assegnazioneTmk:"",assegnazioneVend:"",attuale:""};if(d.pipe&&d.worker&&d.working){f.selezione="Selezionata";switch(d.pipe){case"1":case"2":case"3":f.chiamata="Coda";break;case"4":f.chiamata="Rifisso";break;case"5":f.chiamata="Conferma";break;case"6":f.chiamata="Riservato";break;default:f.chiamata="Oltre Tmk";break}if(d.working=="1"&&d.tmklock!="0"&&d.worker!="0"){f.attuale="Lavorazione"}if(d.working=="2"&&d.tmklock!="0"&&d.worker!="0"){f.attuale="Prenotata"}if(d.working=="0"){f.attuale="In coda"}if(d.unlock_timestamp&&d.unlock_timestamp.length>1){f.attuale+=" Ritardata"}if(d.static_lock&&d.static_lock=="1"){f.attuale+=" Disattivata"}if(d.tmklock!="0"){f.attuale="Personale";f.assegnazioneTmk=a(d.tmklock,g)}else{if(d.ttmk&&d.ttmk!="0"){var c=d.ttmk.split(",");f.assegnazioneTmk=[];for(var e in c){f.assegnazioneTmk.push(a(c[e],g))}f.assegnazioneTmk=f.assegnazioneTmk.join(",")}}if(d.force&&d.force!="0"){f.attuale+=" Prenotata"}f.assegnazioneVend=a(d.worker,b)}return f}});var classLeadInventario=function(b){var a="";switch(b.lead.formagiuridica){case"SRL":case"SPA":case"SRL a socio unico":case"SPA a socio unico":a+=" lead-3factories";break;case"SNC":case"SAS":a+=" lead-2factories";break;case"DITTA INDIVIDUALE":case"SDF E SOCIETA SEMPLICI":case"SCARLPA":case"SCARL":case"Societa' consortile a responsabilita' limitata":case"Societa' cooperativa consortile":case"Consorzio":case"Cooperativa sociale":case"Societa' consortile per azioni":case"Ente":case"COOPERATIVE":case"ALTRO ENTE/ ASSOCIAZIONE":case"PICC SCARL":case"Fondazione":case"SAPA":case"Piccola cooperativa":case"GEIE":case"Consorzio senza attivita' esterna":case"SCARI":case"Societa' di fatto":case"CONSORZI":case"Societa' semplice":case"Associazione":case"Societa' estera":case"Mutua assicurazione":case"Societa' anonima":case"ASSOCIAZIONE FRA PROFESSIONISTI":case"STUDIO ASSOCIATO":a+=" lead-1factory";break;default:a+=" lead-0factory";break}switch(b.lead.classedipendenti){case"5":case"6":case"7":case"8":case"9":a+=" lead-3employees";break;case"3":case"4":a+=" lead-2employees";break;case"1":case"2":a+=" lead-1employee";break;default:a+=" lead-0employee";break}switch(b.lead.fasciafatturato){case"4":case"5":case"6":case"7":case"8":case"9":case"10":a+=" lead-3euros";break;case"3":a+=" lead-2euros";break;case"1":case"2":a+=" lead-1euro";break;default:a+=" lead-0euro";break}if(a===""){a="lead-libera"}return a};